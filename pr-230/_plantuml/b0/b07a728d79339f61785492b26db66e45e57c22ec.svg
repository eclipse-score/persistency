<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="611px" preserveAspectRatio="none" style="width:576px;height:611px;background:#FFFFFF;" version="1.1" viewBox="0 0 576 611" width="576px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="599.1875" style="stroke:#181818;stroke-width:0.5;" width="238.3867" x="249.7402" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="110.4873" x="313.6899" y="18.0669">score::mw::per</text><g><title>User App</title><rect fill="transparent" height="442.5938" width="8" x="35.8555" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="82.2969" y2="524.8906"/></g><g><title>Frontend</title><rect fill="transparent" height="442.5938" width="8" x="288.2949" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="291.7402" x2="291.7402" y1="82.2969" y2="524.8906"/></g><g><title>Backend</title><rect fill="transparent" height="442.5938" width="8" x="442.9463" y="82.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="446.7656" x2="446.7656" y1="82.2969" y2="524.8906"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7109" x="5" y="78.9951">User App</text><ellipse cx="39.8555" cy="21.5" fill="#E2E2F0" rx="16" ry="16" style="stroke:#181818;stroke-width:0.5;"/><path d="M39.8555,41.5 C43.8555,41.5 46.8555,41.5 50.8555,37.5 C58.8555,37.5 66.8555,45.5 66.8555,53.5 L66.8555,57.5 C66.8555,61.5 62.8555,65.5 58.8555,65.5 L20.8555,65.5 C16.8555,65.5 12.8555,61.5 12.8555,57.5 L12.8555,53.5 C12.8555,45.5 20.8555,37.5 28.8555,37.5 C32.8555,41.5 35.8555,41.5 39.8555,41.5 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7109" x="5" y="536.8857">User App</text><ellipse cx="39.8555" cy="556.6875" fill="#E2E2F0" rx="16" ry="16" style="stroke:#181818;stroke-width:0.5;"/><path d="M39.8555,576.6875 C43.8555,576.6875 46.8555,576.6875 50.8555,572.6875 C58.8555,572.6875 66.8555,580.6875 66.8555,588.6875 L66.8555,592.6875 C66.8555,596.6875 62.8555,600.6875 58.8555,600.6875 L20.8555,600.6875 C16.8555,600.6875 12.8555,596.6875 12.8555,592.6875 L12.8555,588.6875 C12.8555,580.6875 20.8555,572.6875 28.8555,572.6875 C32.8555,576.6875 35.8555,576.6875 39.8555,576.6875 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.1094" x="253.7402" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="260.7402" y="70.9951">Frontend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.1094" x="253.7402" y="523.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1094" x="260.7402" y="543.8857">Frontend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3613" x="409.7656" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3613" x="416.7656" y="70.9951">Backend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3613" x="409.7656" y="523.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3613" x="416.7656" y="543.8857">Backend</text><polygon fill="#181818" points="280.2949,109.4297,290.2949,113.4297,280.2949,117.4297,284.2949,113.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="39.8555" x2="286.2949" y1="113.4297" y2="113.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.4395" x="46.8555" y="108.3638">KvsBuilder(instance_id: InstanceId)</text><polygon fill="#181818" points="434.9463,138.5625,444.9463,142.5625,434.9463,146.5625,438.9463,142.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="292.2949" x2="440.9463" y1="142.5625" y2="142.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6929" x="299.2949" y="137.4966">load_kvs(1)</text><polygon fill="#181818" points="303.2949,167.6953,293.2949,171.6953,303.2949,175.6953,299.2949,171.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="297.2949" x2="445.9463" y1="171.6953" y2="171.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.4258" x="309.2949" y="166.6294">KvsMap</text><polygon fill="#181818" points="50.8555,196.8281,40.8555,200.8281,50.8555,204.8281,46.8555,200.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="44.8555" x2="291.2949" y1="200.8281" y2="200.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.2578" x="56.8555" y="195.7622">kvs.has_value()</text><polygon fill="#181818" points="280.2949,225.9609,290.2949,229.9609,280.2949,233.9609,284.2949,229.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="39.8555" x2="286.2949" y1="229.9609" y2="229.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.4478" x="46.8555" y="224.895">get_value(key: Key)</text><line style="stroke:#181818;stroke-width:1;" x1="292.2949" x2="334.2949" y1="259.0938" y2="259.0938"/><line style="stroke:#181818;stroke-width:1;" x1="334.2949" x2="334.2949" y1="259.0938" y2="272.0938"/><line style="stroke:#181818;stroke-width:1;" x1="293.2949" x2="334.2949" y1="272.0938" y2="272.0938"/><polygon fill="#181818" points="303.2949,268.0938,293.2949,272.0938,303.2949,276.0938,299.2949,272.0938" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.6514" x="299.2949" y="254.0278">Value = KvsMap[Key]</text><polygon fill="#181818" points="50.8555,297.2266,40.8555,301.2266,50.8555,305.2266,46.8555,301.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="44.8555" x2="291.2949" y1="301.2266" y2="301.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.7085" x="56.8555" y="296.1606">Value</text><path d="M5,314.2266 L5,339.2266 L325,339.2266 L325,324.2266 L315,314.2266 L5,314.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M315,314.2266 L315,324.2266 L325,324.2266 L315,314.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.397" x="154.7263" y="331.2935">...</text><polygon fill="#181818" points="280.2949,361.4922,290.2949,365.4922,280.2949,369.4922,284.2949,365.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="39.8555" x2="286.2949" y1="365.4922" y2="365.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.5835" x="46.8555" y="360.4263">flush()</text><polygon fill="#181818" points="434.9463,390.625,444.9463,394.625,434.9463,398.625,438.9463,394.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="292.2949" x2="440.9463" y1="394.625" y2="394.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.0093" x="299.2949" y="389.5591">flush(KvsMap)</text><line style="stroke:#181818;stroke-width:1;" x1="446.9463" x2="488.9463" y1="423.7578" y2="423.7578"/><line style="stroke:#181818;stroke-width:1;" x1="488.9463" x2="488.9463" y1="423.7578" y2="436.7578"/><line style="stroke:#181818;stroke-width:1;" x1="447.9463" x2="488.9463" y1="436.7578" y2="436.7578"/><polygon fill="#181818" points="457.9463,432.7578,447.9463,436.7578,457.9463,440.7578,453.9463,436.7578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.394" x="453.9463" y="418.6919">snapshot_rotate()</text><line style="stroke:#181818;stroke-width:1;" x1="446.9463" x2="488.9463" y1="465.8906" y2="465.8906"/><line style="stroke:#181818;stroke-width:1;" x1="488.9463" x2="488.9463" y1="465.8906" y2="478.8906"/><line style="stroke:#181818;stroke-width:1;" x1="447.9463" x2="488.9463" y1="478.8906" y2="478.8906"/><polygon fill="#181818" points="457.9463,474.8906,447.9463,478.8906,457.9463,482.8906,453.9463,478.8906" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.5933" x="453.9463" y="460.8247">write_kvs(1)</text><polygon fill="#181818" points="303.2949,488.8906,293.2949,492.8906,303.2949,496.8906,299.2949,492.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="297.2949" x2="445.9463" y1="492.8906" y2="492.8906"/><polygon fill="#181818" points="50.8555,502.8906,40.8555,506.8906,50.8555,510.8906,46.8555,506.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="44.8555" x2="291.2949" y1="506.8906" y2="506.8906"/><!--SRC=[TL3RQeKm47pFLom-AVG8VGrjmTCBoA55AErBAR97jpMeIKYYrhzllFGYfytRpipEPDRMGceqs08MJfb7DpO4E91LBJ4sOn0yMJAGQ1q0MaYoZ1tL1mIsK8OuRmVEDPc0WN_Uoeb2Q9GEWZkZf2DPhclfgMAFHVqbs2VNXzk76-PdyFwC-I3ONKsB70wztNUYASc4Gbg7ig1Sb1pITKZBoElJIR_wS6WKbddTs_1yuIvsFvptkqSzHtXuZl3Ak4ARzzXq54QR-7ToArxJwBTf_8wR-UU9WylLziNphnllcMTCAaUW-kcOMNQsK74SRwk-DPsjmjCw2xuaH6o5DmehKTjAkTmeXsxgy9TgCCBHFtVv_UbF]--></g></svg>